<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[(cons 'hack *life*)]]></title>
  <link href="http://kisom.github.com/atom.xml" rel="self"/>
  <link href="http://kisom.github.com/"/>
  <updated>2012-01-22T13:37:57+03:00</updated>
  <id>http://kisom.github.com/</id>
  <author>
    <name><![CDATA[Kyle Isom]]></name>
    <email><![CDATA[coder@kyleisom.net]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Testing Out Octopress]]></title>
    <link href="http://kisom.github.com/blog/2012/01/19/testing-out-octopress/"/>
    <updated>2012-01-19T21:01:00+03:00</updated>
    <id>http://kisom.github.com/blog/2012/01/19/testing-out-octopress</id>
    <content type="html"><![CDATA[<p>I&#8217;ve seen a lot of people using Octopress, so I&#8217;m giving it a shot.
It does do some cool stuff (like integrating with github and twitter and
disqus) but I have no plans to move <a href="http://www.kyleisom.net/blog">my blog</a>
anytime soon&#8230;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[on SOPA and PIPA]]></title>
    <link href="http://kisom.github.com/blog/2012/01/18/on-sopa-and-pipa/"/>
    <updated>2012-01-18T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2012/01/18/on-sopa-and-pipa</id>
    <content type="html"><![CDATA[<p>Imagine you are the owner of a small restaurant. The neighbourhood is of mixed
quality, but this is where you live so you try to make do anyways. One day,
new laws are passed such that if anyone in your restaurant conducts any sort of
illegal activity (like a drug deal), the police blockade your restaurant and force
everyone out. Furthermore, this new law isn&#8217;t clear about how to get your
restaurant back. The politicans who made this law have absolutely no experience
in the restaurant industry, but still expect you to continually monitor all your
patrons and do the work of the police and law enforcement for them. At any time,
one of your patrons can call the police and claim something happened in your
restaurant and you get shutdown. On top of all this, there are people actively
looking for anything untoward happening so as to shut you down. What do you
do? You can&#8217;t really afford to hire more waiters and waitresses or security
personnel to monitor (and don&#8217;t really want to establish that kind of atmosphere
in your business anyhow); CCTV and other technical measures have too long of a
delay (or require you to suspect something happened so you can check the tapes).
Really, the only thing you can do is to move out of town.</p>

<p>Of course I&#8217;m talking about <a href="http://www.govtrack.us/congress/bill.xpd?bill=s112-968">PIPA</a>
and <a href="http://www.govtrack.us/congress/bill.xpd?bill=h112-3261">SOPA</a>. The story I
told isn&#8217;t entirely <a href="http://en.wikipedia.org/wiki/G%C3%B6del%2C_Escher%2C_Bach">isomorphic</a>
to the current situation, but it gets the idea across. The
politicians enacting this legislation have admittedly no technical knowledge, despite the
fact that the vast majority of the people working in the tech industry have decried this
as a universally uneducated and ineffective decision that will do more to hurt the innocent
than to accomplish its stated objectives.</p>

<p>This is the exact reason why I would not start a tech business in the US anymore.
Starting a business is hard enough with everything else; worrying about the legal
environment is too much and there are plenty of places where law enforcement does
its job instead of placing the burden on you.</p>

<p>Unfortunately, just leaving the country isn&#8217;t going to let me just dodge the
effects. What happens when you lose a large part of your market share (i.e. the
US market)? <a href="http://www.arstechnica.com">Ars Technica</a> has a
<a href="http://arstechnica.com/tech-policy/news/2012/01/what-does-sopa-mean-for-us-foreigners.ars">good writeup</a>
on how SOPA/PIPA affect foreign users.</p>

<p>So what could the government do instead?
* work on improving the technical skills of their workforce (not driving away the people with these skills with the government&#8217;s current overwhelming ineptitude would be a good start)
* being far more transparent about the process of taking down a site</p>

<p>Unfortunately, I don&#8217;t have enough money to pay the government to listen to me.</p>

<p>Further reading:<br>
0. The EFF has a good <a href="https://www.eff.org/takedowns">Takedown Wall of Shame</a>
if you don&#8217;t believe the government would possibly abuse or misuse their takedown
powers.
0. The EFF also has a <a href="https://www.eff.org/deeplinks/2012/01/how-pipa-and-sopa-violate-white-house-principles-supporting-free-speech">good writeup</a> on SOPA.
0. <a href="http://americancensorship.org/">Stop American Censorship</a>
0. Fight For the Future has a <a href="http://fightforthefuture.org/pipa">good video</a></p>

<p>Thanks to <a href="http://samuelgoodwin.tumblr.com">Samuel Goodwin</a>, Beau Holton,
<a href="https://twitter.com/#!/Slaughterhut">Jason Barbier</a>,
<a href="http://twitter.com/qb1t">Aaron Bieber</a>,
and <a href="http://twitter.com/imwally">Wally Jones</a> for reviewing this.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[back to lisp]]></title>
    <link href="http://kisom.github.com/blog/2012/01/02/back-to-lisp/"/>
    <updated>2012-01-02T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2012/01/02/back-to-lisp</id>
    <content type="html"><![CDATA[

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>commit e358120dd3760e64436f5652895c751b39148ebd
</span><span class='line'>   Author: Kyle Isom &lt;coder@kyleisom.net>
</span><span class='line'>   Date:   Wed Dec 28 19:22:59 2011 +0300
</span><span class='line'>   
</span><span class='line'>    initial commit</span></code></pre></td></tr></table></div></figure>


<p>A brief stint playing with clojure made miss common lisp, so I&#8217;m working
through <a href="http://www.paulgraham.com">Paul Graham&#8217;s</a>
<a href="http://paulgraham.com/acl.html">ANSI Common Lisp</a> with a copy of
<a href="http://paulgraham.com/onlisp.html">On Lisp</a>. My last foray, I learned
from <a href="http://www.cs.cmu.edu/~dst/">David Touretzky&#8217;s</a>
<a href="http://www.cs.cmu.edu/~dst/LispBook/index.html">A Gentle Introduction to Symbolic Computation</a>,
so this time I&#8217;m trying PG&#8217;s book. So far I&#8217;ve done more useful things,
mostly by actually reading a bit more of the <a href="http://www.sbcl.org">sbcl</a>
<a href="http://www.sbcl.org/manual/">user manual</a> (from which I learned some
useful things such as <code>sb-ext:*posix-argv*</code> and <code>sb-ext:save-lisp-and-die</code>)
and by the immensely useful site
<a href="http://rosettacode.org/wiki/Rosetta_Code">Rosetta Code</a>, from which I
learned about the <a href="http://www.weitz.de/drakma/">DRAKMA</a> HTTP client
library. I&#8217;ve also been aided quite a bit by
<a href="http://xach.com">Zach Beane&#8217;s</a> <a href="http://www.quicklisp.org/">quicklisp</a>;
in fact, one of the things I&#8217;ve done is to write a short
<a href="https://gist.github.com/1548276">script</a> to build an sbcl image with
quicklisp and my most commonly used libraries built-in.</p>

<script src="https://gist.github.com/1548276.js?file=build-image.lisp"></script>


<p>One of the things I love about functional programming is the idea that
instead of relying on a lot of variables, you use functions as sort of
&#8220;organic variables&#8221; that provide immutable data based on some input. The
ability to build what feels more organic, less static. I think
<a href="https://en.wikipedia.org/wiki/Steve_Yegge">Steve Yegge&#8217;s</a>
blog post <a href="http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html">Execution in the Kingdom of Nouns</a>
is spot on.</p>

<p>I anticipate this to be the year of Lisp for me, as I delve into
Common Lisp, Scheme, and Clojure.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[my docs got dropped]]></title>
    <link href="http://kisom.github.com/blog/2011/12/31/my-docs-got-dropped/"/>
    <updated>2011-12-31T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/12/31/my-docs-got-dropped</id>
    <content type="html"><![CDATA[<p>My docs are in the stratfor leak.</p>

<p>I&#8217;m not too worried though; everything in there is either out of date
(i.e. that credit card already expired and I have a new one now), my
password was used only on that site (but was a 22 character phrase with
punctuation), and that email address was only used for stratfor. My
address was also already published due to my domain names (most of which
are now privately registered, but I couldn&#8217;t always afford that).</p>

<p>Now that I have a doc drop that actually affects me (the mtgox break-in
gathered a similarly difficult and unique password, and besides some spamming
from idiots trying to exploit the situation with new bitcoin services
there was no fallout), I can talk about what I think of the spate of
LulzSec-style attacks this year. And that is - getting mad at Anonymous,
LulzSec, AntiSec, or whatever the nom du jour is, is an exercise in futility
and ignorance. It&#8217;s like getting mad at your five year old for getting into
the cookie jar you left on the kitchen table. Your antiquate and ineffective
security mechanism (the kid couldn&#8217;t <em>possibly</em> get on the table) should
have been replaced by something more effective (maybe locking it in the
pantry, overkill for a cookie jar though).</p>

<p>The issue is it&#8217;s 2011 (almost 2012) and we&#8217;ve been doing this for a while
now. The rampant incompetence of people setting up these sites should be
made a crime. That would be a far better use of legislative effort than the
brain dead attempts at anti-piracy we&#8217;re seeing now. The script kiddies
aren&#8217;t exhibiting any serious talent, the security (I use the term loosely
here) people are setting up is juvenile.</p>

<p><strong> Afterthoughts: </strong></p>

<p>As <a href="http://hackerne.ws/user?id=gyardley">gyardley</a> pointed out on
<a href="http://hackerne.ws/item?id=3411236">hackerne.ws</a>, when I compare the
LulzSec-type script kiddies to five-year-olds, I don&#8217;t mean to create
the impression that they shouldn&#8217;t be held legally liable. I do fear,
however, that focusing on legal actions against those responsible will
cause us to lose focus on the bigger problem.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[suddenly enlightenment]]></title>
    <link href="http://kisom.github.com/blog/2011/12/03/suddenly-enlightenment/"/>
    <updated>2011-12-03T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/12/03/suddenly-enlightenment</id>
    <content type="html"><![CDATA[<p>It&#8217;s been almost 28 hours since I last slept, so I apologise if this
post contains a few spelling or grammatical errors. As soon as I
become aware of them, rest assured I will quickly put them to right.</p>

<p><a href="http://www.kyleisom.net/blog/2011/11/35-dot_emacs">Today&#8217;s git commit</a> occurred
while I was working on getting a web development test VM / environment working. The
goal was to update a CGI script when I pushed to the dev vm. The commit log:</p>

<p>   commit 2de6f8444c68b0dd5ad31dd815d71a5590c5120e
   Author: Kyle Isom <a href="&#x6d;&#x61;&#x69;&#x6c;&#116;&#111;&#x3a;&#x63;&#x6f;&#x64;&#x65;&#x72;&#x40;&#107;&#x79;&#108;&#101;&#105;&#115;&#x6f;&#x6d;&#x2e;&#110;&#x65;&#116;">&#99;&#111;&#100;&#x65;&#114;&#x40;&#107;&#x79;&#108;&#101;&#105;&#115;&#x6f;&#x6d;&#x2e;&#110;&#101;&#116;</a>
   Date:   Sat Dec 3 00:24:34 2011 +0300</p>

<pre><code>   suddenly enlightenment
</code></pre>

<p>It took a while for me to grok what was happening with the hook, but finally it clicked.
I did a lot of reading online, and was greatly helped by the <a href="https://www.ora.com">O&#8217;Reilly</a>
book <a href="https://shop.oreilly.com/product/9780596620137.do">Version Control with Git</a>
and the <code>githooks(5)</code> man page.</p>

<p>My remote repository was a bare git repo (one initialised with <code>git init --bare</code> that I
pushed my local changes to. I created a staging directory (<code>${HOME}/stage/cgitest</code>)
and created the following hook:</p>

<pre><code>kyle@www-dev:~/code/cgitest/hooks$ cat post-update
#!/bin/sh
export GIT_DIR=/home/kyle/code/zipcgi
export GIT_WORK_TREE=/home/kyle/stage/zipcgi
git reset --hard
git checkout -f
cp ${GIT_WORK_TREE}/zipcgi.py ~/bin/cgi/
</code></pre>

<p>As a side note, make sure the script is <code>chmod +x</code>&#8216;d.</p>

<p>The reason why we have to specify the git dir is that by default,
because this is in the bare repository, git will assume the git
directory is the repository directory. The problem is, that directory
doesn&#8217;t have a working tree. A working tree is required to checkout
the repository - i.e. so we have a named file to work with. To work
around this, I explicitly specify a working tree . Then I copy the CGI
script to my CGI directory.</p>

<p>Why not just symlink the file? Well, symlinks work on inodes. This
allows multiple names to refer to the same file, but it does mean that
even though the file is in the same directory and shares the same
name, it is not guaranteed the same inode number. The git checkout
can, in essence, unlink the old file and create a completely new
file. The end result is that your symlink will likely be broken,
pointing to a now non-existent inode. The safest method is just to
copy the new version on top of the old one.</p>

<p>Why do we have to manipulate the environment variables
<code>GIT_DIR</code> (which points to the directory containing the actual git
repository, more on that in a second) and <code>GIT_WORK_TREE</code>, which
represents the working tree. To really understand this, you need to
understand the difference between the working tree and the
repository. You could take the long route and read the excellent book
I mentioned above and wade through man pages (which are pretty well
written, but there is a lot of information to keep track of). An
alternative is to buckle in and keep reading for my crash course.</p>

<p>Still here? Buckled in? Let&#8217;s do this. A git repository is basically a
filesystem-based database that uses hashes for identification and
great success. If you poke around in your git repository (which in a
standard local repository is in <code>${PROJECT}/.git</code>), particularly under
objects, you will see what I mean. Everything is stored as a hash
object. Git uses <a href="https://en.wikipedia.org/wiki/SHA-1">SHA-1</a>, and
under <code>.git/objects</code> you will see a list of subdirectorys. These
subdirectories (with the exception of <code>pack</code> and <code>info</code>) named after
the first byte of the SHA-1 hash (which is two bytes when stored as a
semi-human readable hex digest). Under these subdirectories, git
stores the objects as the remaining 19 bytes (again, 38 bytes when
stored as a hex digest) of the hash. The file is
zlib-compressed. Don&#8217;t believe me? If you clone my
<a href="https://github.com/kisom/woofs">woofs project</a> and look up</p>

<p><code>.git/objects/bf/2f7383ca7343f85f1308fc6dc3c34dbd047d90</code>.</p>

<p>Try the following python code:</p>

<pre><code>import zlib
print zlib.decompress(open('2f7383ca7343f85f1308fc6dc3c34dbd047d90').read())
</code></pre>

<p>You should see a working version of the script (and the latest version
as of this writing). This is how git sees everything. (If you want to
see what git sees a file as, use <code>git hash-object &lt;FILE&gt;</code>.)</p>

<p>The working directory is where you, the developer or end user,
interact with the contents of the database. This is where things can
be staged to be committed, and in a bare repo (typically found
on remote repos), there won&#8217;t be a working directory because you
aren&#8217;t working directly on that copy of the repo. Try this:</p>

<pre><code>mkdir -p ~/tmp/stage/woofs_working
export GIT_DIR=~/Code/woofs/.git 
export GIT_WORK_TREE=~/tmp/stage/woofs_working
cd ~
git reset --hard
ls ~/tmp/stage/woofs_working
</code></pre>

<p>Voil√†! You should see the contents of the repo there. (I&#8217;d recommend
either closing out that terminal session or running</p>

<pre><code>unset GIT_DIR GIT_WORK_TREE
</code></pre>

<p>to prevent problems later on. Also, while I&#8217;m using a repo I chose at
random from my <code>~/Code</code> directory, you could (and should) be trying
with a repo of your own.</p>

<p>It should be clear now why I had to explicitly specify the two. The
next two commands just reset the working directory to the lastest
commit (i.e. the one that was just pushed) and check out a fresh copy,
to make sure everything that should be present is present.</p>

<p>This turned out to be a longer post than I had expected, but my hope
is that it helps other people quickly get their hooks operational. The
cool thing about hooks is they are just executable shells scripts,
which means:</p>

<ol>
<li>the script&#8217;s <code>${PWD}</code> is the hooks directory in the git repo.</li>
<li>the <code>${GIT_DIR}</code> is by default &#8216;.&#8217; and is the repo directory. for
example, if we had a bare woofs repo, it would be something like
<code>/home/kyle/code/woofs</code>, while in a local repo it would be
<code>/home/kyle/code/woofs/.git</code>.</li>
<li>because it&#8217;s just a shell script, you can use any language you can
use a shebang for.</li>
</ol>


<p>Git hooks are a powerful tool and can greatly boost your productivity,
automatically deploy code, and help us fight SkyNet. You should
consider using them in your next project.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[add .emacs.d/init.el]]></title>
    <link href="http://kisom.github.com/blog/2011/11/28/add-emacsd/"/>
    <updated>2011-11-28T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/11/28/add-emacsd</id>
    <content type="html"><![CDATA[<p>In the spirit of many of my online profiles which proudly declare &#8220;my
commit log is my blog,&#8221; I&#8217;ve decided to start using that in my posts.
Here is the first such attempt.</p>

<pre><code> commit 40bbc533313a43192506b682fe546304d8603d11 
 Author: Kyle Isom &lt;coder@kyleisom.net&gt;
 Date:   Mon Nov 28 17:34:30 2011 +0300

    add .emacs.d/init.el
</code></pre>

<p>I&#8217;ve started using emacs, which is an act of such great blasphemy for
a red-blooded stalwart vim-wielding hacker such as myself that I find
it difficult to come to grips with sometimes. But there is a method to
my madness, and it isn&#8217;t just that my morals are so comprised right
now in this nadir of my life that I&#8217;ve even started learning
javascript (a running joke).</p>

<p>Due to my current work situation, and the prospect of traveling to and
spending several months in a region with little to no network
connectivity, I&#8217;ve purchased a new 11&#8221; Macbook Air. I chose the 11&#8221;
model solely for price reasons; I would much prefer a larger
laptop. I&#8217;ve previously owned two EeePCs (the 7&#8221;
<a href="http://en.wikipedia.org/wiki/ASUS_Eee_PC#Eee_700_series">Eee PC 701</a>
and the 11&#8221;
<a href="http://en.wikipedia.org/wiki/ASUS_Eee_PC#Specifications">Eee PC 1101HAB</a>),
so I&#8217;m familiar with the smaller form-factor, and not a huge fan to be
honest.</p>

<p>Enter emacs - I can do all my work on emacs, with an integrated python
development environment incorporating a shell, pdb (with a pane that
shows the current line of the file being executed as you&#8217;re stepping
through code). I&#8217;ll still have the OS X desktop,
<a href="http://www.iterm2.com/">iterm2</a>,
<a href="http://tmux.sourceforge.net/">tmux</a>, and
<a href="http://code.google.com/p/macvim/">macvim</a>. But for getting things
done, I think that emacs is going to help out a lot.</p>

<p>Plus it&#8217;s backed by a Lisp flavour.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[on the police response to the occupy movement]]></title>
    <link href="http://kisom.github.com/blog/2011/10/29/on-the-police-response-to-the-occupy-movement/"/>
    <updated>2011-10-29T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/10/29/on-the-police-response-to-the-occupy-movement</id>
    <content type="html"><![CDATA[<p>(Originally written on 2011-10-29 and an unusual departure from the usual technical content.)</p>

<p>TL;DR One more combat veteran is disgusted and appalled by the actions of a few police officers during the course of the Occupy movement.</p>

<p>I just got done watching <a href="http://www.youtube.com/watch?v=WmEHcOc0Sys">this video</a>, and the outrage I feel towards those peace officers who disrespect the freedoms that I, and many better man than I, have ostensibly fought to protect, welled up in my chest like a Midwest thunderstorm. While we were told that our actions in Iraq were in the name of freedom, while many people back home who supported us with letters and care packages were told we were defending freedom, the basic rights of <strong>American citizens</strong> are being trampled on by a few officers and police departments.</p>

<p>Right up front: I don&#8217;t have anything against police officers. Yes, they do unpopular things. I understand that. When I came home, there were times when anti-war protesters took their protests to a personal level. As a 19 or 20 year old to return home from war, having seen friends and brothers killed, having experienced the trauma of being having your vehicle hit by an IED, and having had to make decision whether to take another man&#8217;s life or not (despite not being considered old enough to be responsible enough to consume alcohol), to have people tell you that you are a baby killer is a fairly difficult and emotionally trying experience. I took several of my best years out of my life to serve my country and gave up quite a number of opportunities in order to do so. I understand many of the feelings that I am sure many police officers feel when ordinary citizens harass and rail on them for actions they take that are unpopular. I get it. I know that as despicable as resorting to violence is, the fact of the matter is that humanity forces the need. Would that we were all enlightened, instead of being little more than clever apes with Facebook, but I understand that is not the case. Trust me.</p>

<p>But as a fighting man in an actual war zone - and despite the so-called &#8220;threat of terror&#8221; that supposedly &#8220;looms&#8221; here, America is not a war zone - had I fired even non-lethal rounds at unarmed civilians unprovoked because I felt scared due to the loud noises they were making, I would have faced military punishments. Many soldiers were punished for less. As a professional soldier, I am trained and expected to make reliable snap shoot/no-shoot judgements. During the surge in Iraq, when I was in a very kinetic (military word for an area of active fighting) environment, we still were held accountable for our actions. If use of force was justified (and it was on many occasions), there is no issue.</p>

<p>So to see American police officers engaging American citizens who are not wielding weapons is aggravating in no small way. As I mentioned in the opening paragraph, rage is a much better term for the emotion. It isn&#8217;t all the police officers, but just as a few soldiers cast shame over the entire US military, a few idiot police officers are casting shame over their departments and the governments they represent. If those officers were in my platoon, in addition to military judgement they would be taken out back and beaten.</p>

<p>I don&#8217;t want to rant, I don&#8217;t want to say anything stupid, and I don&#8217;t want to end up resorting to ad-hominem attacks. Suffice it to say that many of us in the military, regardless of our agreement (or lack thereof) with the protesters&#8217; cause, stood up and defended the right of those protesters to have their voice heard. It is a sad day when the populace needs protection from the very police officers whose job is allegedly to protect that self-same populace. Let us not forget who pays the salary of those police officers.</p>

<p>For those police officers who maintain their calm and professional bearing, I applaud you. I understand the desire to smash stupid people in the face for saying and thinking stupid things. Unfortunately, as a police officer, you are bound to protect those people. I have been in similar situations in the military, and I understand the frustration. If you feel so strongly about it, do it the old-fashioned way - go on your own, out of uniform, and throw down. If it&#8217;s a departmental policy to carry out those types of actions, then the government no longer serves its people and no longer upholds the Constitution, and it&#8217;s time for you to be replaced.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[generating patchfiles with git and hg]]></title>
    <link href="http://kisom.github.com/blog/2011/09/28/generating-patchfiles-with-git-and-hg/"/>
    <updated>2011-09-28T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/09/28/generating-patchfiles-with-git-and-hg</id>
    <content type="html"><![CDATA[<p>UPDATE: originally this post was only about doing this in git. Since I use
mercurial almost as much as I use git, I decided to look into how to do it
with mercurial too.</p>

<p>I recently was explaining to someone that as a coder, I do (or should do)
a lot more than just code. I figured since I hadn&#8217;t written anything here in
a while, I&#8217;d put my thoughts down here.</p>

<p>i found myself needing to generate a patchfile today from a git repo. it turns
out to be a very easy task.</p>

<ul>
<li><p>first, commit to a clean working directory. i&#8217;ll asume you are on the
&#8216;master&#8217; (git) or &#8216;tip&#8217; (hg) branch, but s/master/$branch/ as appropriate.</p></li>
<li><p>if you have only one commit between you and the commit you need to diff
against:</p></li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git format-patch master^ --stdout &gt; my.patch<span class="sb">`</span>
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>hg <span class="nb">export </span>tip &gt; my.patch
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>otherwise, substitute in the appropriate commit</p></li>
<li><p>to apply the patch, it&#8217;s</p></li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git apply --stat my.patch
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>hg patch my.patch
</span></code></pre></td></tr></table></div></figure>


<p>I did say it was a very easy task&#8230; You&#8217;ll notice mercurial makes this easier
(or at least I think so) than git.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[coders (should) do much more than code]]></title>
    <link href="http://kisom.github.com/blog/2011/09/10/coders-should-do-much-more-than-code/"/>
    <updated>2011-09-10T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/09/10/coders-should-do-much-more-than-code</id>
    <content type="html"><![CDATA[<p>I recently was explaining to someone that as a coder, I do (or should do)
a lot more than just code. I figured since I hadn&#8217;t written anything here in
a while, I&#8217;d put my thoughts down here.</p>

<h2>the tl;dr</h2>

<p>Coders code. That much is obvious from the title, but there is much more that
can and should be involved for anyone writing real code, at least for UNIX
coders.</p>

<h2>intro</h2>

<p>So you&#8217;ve spent the last couple weeks / months / years writing some really
brilliant bit of software that you think would benefit a lot of people. Or
maybe, just a few, but you still are of the mindset that since you did the
work to solve this problem, other people might have the same problem and if
they had the solution, they could concentrate on other problems. Regardless
of the quality of code and the development process you followed, which endless
books have been written on the subject, there is still a <strong>lot</strong> more work to
be done if you intend to make your software both useful and accessible to
other people. You still need to make sure you have a reasonable portable
(for the scope of the usefulness of your code) build system, good documentation,
an easily accessible online place for people to get your code, and proper
follow-through. Let&#8217;s talk through these bits.</p>

<h2>the build system</h2>

<p>No matter how wizard your code is, if it&#8217;s more work for other people to build
it than it&#8217;s worth, it won&#8217;t be used. That&#8217;s a simple fact. By now, users have
come to expect the proverbial <code>./configure &amp;&amp; make &amp;&amp; make install</code> (or
perhaps <code>scons</code> or <code>waf</code> or <code>jam</code> or one of the other solutions). Regardless,
the build process should not require much work for end users, except in cases
where the code is a very purposeful bit of code that requires careful
configuration. I personally have begun making use of the <code>autotools</code> suite
(my personal stance on the GPL notwithstanding, a rant for another day but
the curious can take a look at the license for most of my code on my
<a href="https://github.com/kisom/">github page</a>). This comprises
<a href="http://www.gnu.org/software/autoconf/">autoconf</a> and
<a href="http://www.gnu.org/software/automake/">automake</a> primarily. You will easily
spend many hours just writing out the configuration files on your end to
properly support and build the software, determining what needs to be checked
on the user&#8217;s system so that they can be sure the code will run on their node.
Once this is set up and functioning, for the most part and in theory, users
will be able to just do the typical configure-and-make pattern they have come
to know and love. The autotools are really designed for C and C++. For python,
there&#8217;s always the <a href="http://pypi.python.org/pypi/setuptools">Python setuptools</a>,
and of course for Perl there&#8217;s <a href="http://www.cpan.org/">CPAN</a>.</p>

<p>Of course, these tools are quite often in a different language than your code
is. For example, the autotools use POSIX shell, M4, and POSIX Makefiles to
generate the configure script and Makefiles for distribution. This takes time
to learn, especially given some of the nuances involved. There is of course
some debate (see &#8220;Stop the autoconf insanity! Why we need a new build system&#8221;[http://freshmeat.net/articles/stop-the-autoconf-insanity-why-we-need-a-new-build-system])
as to how useful these are, but for the most part the reward is worth the work.
For the autotools suite, take a look at the No Starch Press book
<a href="http://nostarch.com/autotools.htm">Autotools:A Practitioner&#8217;s Guide to GNU Autoconf, Automake, and Libtool</a>.
I found this book indispensable in learning the tool suite.</p>

<h2>documentation</h2>

<p>Documentation extends much further (or should) than the typical README and
INSTALL files found in many distributions. Many developers learn the basics
of TeX or LaTeX typesetting to produce aesthetically pleasing manuals; Texinfo
is also quite common. Markdown is becoming popular as well and with the advent
of tools like <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>, even easier to
convert from Markdown to other formats (pandoc supports html and LaTeX). Besides
just the technical side of writing documentation and learning the typesetting
language used, there&#8217;s the art of technical writing as well. Many companies
have full-time technical writers whose sole purpose is writing documentation.
This is because of another simple fact: your software is of no use if the users
can&#8217;t figure out how to use it. While many users may be technically saavy
enough to read the code to figure out how to use it, for your code to be truly
useful, they should not have to resort to this. This is what I see as the Apple
factor: many developers use Apple&#8217;s hardware and operating system because not
only do things Just Work, but there is also excellent documentation available.
Another operating system leading the way in documentation is my beloved
<a href="http://www.openbsd.org">OpenBSD</a>. Users should have a clear set of instructions
of not only how to use the software, but ways to extend it, what things it
can do that they may not realise, and how to solve problems that may crop up.
So a truly good coder is both at least a proficient typesetter but also a
proficient writer of whatever human language the software is in (or aimed at).</p>

<p>Some projects go further and include a full copy of the license the software
is released under (which you should do for the safety / peace of mind /
convenience of your users - it took <a href="http://lteo.devio.us/">lteo</a> constantly
reminding me of this for many of my projects before I started doing it out
of habit) which is most often in a file called LICENSE or COPYING; a copy of
the ChangeLog, which could also be gotten from source control such as
<code>git log</code>; an AUTHORS file to list contributors; a README and INSTALL file to
give a quick usage and overview as well as installation instructions; and
perhaps a HACKING document to explain how to modify the code to be useful.</p>

<p>The README file is still rather useful; in fact, many times I will
<a href="http://kyleisom.net/blog/2011/07/31-rgtdd">write the README first</a> as part
of my development process.</p>

<p>No matter how you approach it or what you use to write and format your user
manuals, you should still have them included.</p>

<h2>distribution</h2>

<p>Today, distribution is one of the easiest aspects of coding. Numerous websites
exist for the sole purpose of distributing your software, such as
<a href="https://github.com">github</a>, <a href="https://www.bitbucket.org">bitbucket</a>,
<a href="https://www.sourceforge.net">sourceforge</a>,
<a href="https://www.freshmeat.net">freshmeat</a>, among others. Typically, such sites
will also host a remote version of your version control system (you <em>are</em>
version controlling, <em>right</em>?) in addition to supporting release downloads. A
well-setup build system offers the ability to build a distribution release,
often in tarball or tarred bzip2 format as well. Some sites still offer just
a release tarball (for a while, this is how I released my
<a href="https://github.com/kisom/libdaemon">libdaemon</a> project, via my
<a href="http://kisom.devio.us/src.html">devio.us homepage</a>. In fact, this is rapidly
becoming one of the easiest pieces of the project lifecycle. If you haven&#8217;t
already, take a look at one of the sites that works as a remote repo for
whatever source control you are using. You will probably see that besides
distribution, these sites are extremely useful for the last important additional
part of coding I want to talk about.</p>

<h2>support and maintenance</h2>

<p>Once the user has a copy of your software and knows how to use it, they will
inevitably encounter bugs or find that while they would really like to see
a feature in the software, they don&#8217;t have the technical skills to implement
it themselves (or perhaps the courage to look through your code&#8230;) Still other
users might fix the bugs or add new features themselves, and would like to
offer you those changes so you can incorporate them into the software. So the
last important additional part of being a coder is support and maintenance.</p>

<p>Many of the sites that offer to host releases of your code provide additional
tools, like wikis, bug reporting (aka trouble tickets), and feature requests.
Users may also provide patchfiles or a git pull request to give you their
contribition (and accordingly, you credit them in the documentation as well).
A good coder needs to be able to support and maintain the software - users are
more apt to use software if it gets patched or updated with new features (or
if it just works and they don&#8217;t need new features or bugs patched, which is
less likely but still possible).</p>

<h2>conclusion</h2>

<p>As I&#8217;ve explained, being a good coder and providing useful software encompasses
so much more than just good technical skills or great development processes.
There&#8217;s the administrative side (i.e. the build system, feature request and bug
tracking) and the human side (i.e. documentation and responding to support
requests). While it may not be as much fun as the actual coding, it is still
integral to the development process.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RGTDD]]></title>
    <link href="http://kisom.github.com/blog/2011/07/04/rgtdd/"/>
    <updated>2011-07-04T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/07/04/rgtdd</id>
    <content type="html"><![CDATA[<p>One of the most important parts of becoming a useful developer is to find a
workflow that maximises productivty. There are plenty of methodologies and tools
people have come up with just for this - Agile, XP, BDD, TDD, RDD, and many
others. Of course, most everyone has their own unique flavour, and of course
I&#8217;m going to talk about mine. I&#8217;ve spent a lot of time trying different things
(and too much time going back to just grinding out code). This is the first post
of a milti-part series on how I&#8217;ve increased my productivity and what I do to
get things done. Unfortunately, my personal projects are sort of haphazard still,
but I have enjoyed success with this at work.</p>

<p>RGTDD has made a difference in how I develop code and stay productive;
furthermore, above just using a specific development methodology, I&#8217;ve found
certain tools to assist me in being productive.</p>

<p>So, RGTDD. It stands for README-generated Test-Driven Development. I took Tom
Preston-Werner&#8217;s <a href="http://tom.preston-werner.com/2010/08/23/readme-driven-development.html">README-driven development</a>
and adapted it to my own use. Without rehashing his post, READMEs factor in like
this: once the project is started, the first task to do is write the README. Once
the README is written, you lock it in and should not be changed except to fix
typos and spelling errors. This has several advantages:</p>

<ol>
<li><p>First, you end up having a single introductory piece of documentation. This
file contains the justification for you program, a quick introduction to its
features, and usage information.</p></li>
<li><p>Second, locking in the README means you prevent feature creep. You contract
yourself to the end user (yourself, future end users, the client, etc&#8230;) to
implement specifically the features in the README. As a rule of thumb, each
iteration of the README should have no more than five features - each feature
should be a concrete task. If the tasks are particularly complex, I generally
avoid implementing more than three. I have found for myself that trying to
implement much more than that results in code and projects that stagnate or
quickly become spaghetti code.</p></li>
<li><p>Third, you know what you need to code and what the code should specifically
do. I&#8217;ve found that a lot of times I have an idea for project X, but only have
a vague of idea of what it will do. It is part of good engineering to have a
well-laid out design and path for the project to direct development. I have found
this helps me to keep my code from getting overgrown.</p></li>
</ol>


<p>The README at this point now specifies an interface for users to interact with
the code. From here, you begin writing tests that cover the features. As you
begin writing these tests, you will likely figure out other components to the
code. You start writing tests from these. At this point, using the README as a
guiding document, I switch to a test-driven mode. Once the tests perform as
they should (including tests that are expected to fail), I consider this a
release. (I&#8217;ll write a post later on about what I&#8217;m doing for releases).</p>

<p>That&#8217;s a quick introduction to the project management methodology I use. I&#8217;ll
cover some specific tools to help out with various languages, my version
control and release methods, things I wasn&#8217;t taught in school, and what I&#8217;ve
found to help me keep my life organised.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[starting ocaml]]></title>
    <link href="http://kisom.github.com/blog/2011/05/29/starting-ocaml/"/>
    <updated>2011-05-29T00:00:00+03:00</updated>
    <id>http://kisom.github.com/blog/2011/05/29/starting-ocaml</id>
    <content type="html"><![CDATA[<p>i recently started learning
<a href="http://caml.inria.fr/index.en.html">objective caml</a>. while it may be
better documented than say standard ML, i&#8217;ve still had a few difficulties
getting started. i&#8217;ll be keeping notes here, and my github account will
probably document quite a number of lessons learned.</p>

<p>one of the most difficult parts about starting development in ocaml is
that the best development environment i&#8217;ve found so far is emacs with
tuareg-mode. i personally hate emacs (being a vim or straight vi/nvi type of
character) but tuareg-mode is extremely useful. (using emacs also has the
side-effect of starting me on org-mode). getting started on ubuntu was fairly
easy:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>apt-get install ocaml emacs23 tuareg-mode ocaml-findlib
</span></code></pre></td></tr></table></div></figure>


<p>as well as a number of the ocaml libraries (which i recommend using aptitude
to look through and install). i ended up installing the Jane Street core and
the netclient libraries right off that bat.</p>

<p>on OS X using macports, i just had to</p>

<pre><code>    `port install ocaml caml-findlib tuareg-mode.el`
</code></pre>

<p>there are a couple other libraries you can install (like netclient) as well.</p>

<h2>build notes:    </h2>

<ul>
<li>when building new module interfaces (*.cmi), make sure to do</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>ocamlc -o <span class="k">$(</span>LIBDIR<span class="k">)</span>/<span class="nv">$*</span>.cmi -c <span class="k">$(</span>SRCDIR<span class="k">)</span>/<span class="nv">$*</span>.mli<span class="sb">`</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>building %.cmx (i.e. *.ml files):</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="k">$(</span>FIND<span class="k">)</span> <span class="k">$(</span>NATIVE<span class="k">)</span> -o <span class="nv">$@</span> -I <span class="k">$(</span>LIBDIR<span class="k">)</span> <span class="k">$(</span>INCDIRS<span class="k">)</span> -c <span class="k">$(</span>SRCDIR<span class="k">)</span>/<span class="nv">$*</span>.ml<span class="sb">`</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
</feed>
