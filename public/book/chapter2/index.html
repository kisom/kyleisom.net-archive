
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Practical Introduction to Cryptography - EDOOFUS</title>
  <meta name="author" content="Kyle Isom">

  
  <meta name="description" content="Practical Introduction to Cryptography Mar 1st, 2012 <!-- rewrite of chapter 2, started on the flight from Amsterdam back to Africa. Notes: * what &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kisom.github.com/book/chapter2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="EDOOFUS" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=IM+Fell+English' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29320669-1']);
  _gaq.push(['_setDomainName', 'kyleisom.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">EDOOFUS</a></h1>
  
    <h2>my commit log as a blog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:kisom.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About Me</a></li>
  <li><a href="/code">Code</a></li>
  <li><a href="/book/">Book</a></li>
  <li><a href="/resume/">Resum√©</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">Practical Introduction to Cryptography</h1>
    <p class="meta">








  


<time datetime="2012-03-01T22:14:00-07:00" pubdate data-updated="true">Mar 1<span>st</span>, 2012</time></p>
  </header>
  
  <!-- rewrite of chapter 2, started on the flight from Amsterdam back to
     Africa. 

     Notes:
    * what it does
    * what it doesn't do
    * keys
      * something you know, have, are
    * padding
    * hashes

-->


<h2>What is Cryptography?</h2>

<p>Cryptography is a value tool for data security, but like any other tool, it must
be applied properly. In this chapter, we&#8217;ll take a very brief look at
cryptography&#8217;s role in security and introduce a few key ideas that will be needed
later. We won&#8217;t go too deep down the rabbit hole, I promise. If you&#8217;re curious
about a more technical background of how cryptography works, there are a number
of excellent books listed in the <a href="/book/bibliography">bibliography</a>. Also, in
this chapter we just skim through cryptography - later chapters will explain a
lot more and provide real-world code samples.</p>

<p>Over this chapter, I&#8217;m going to be introducing new terms and for the sake
of the flow of the paragraph, they may not be defined right away. If you come
across an unfamiliar term, stick it in the back of your head as I will likely
explain it later.</p>

<p>We discussed security objectives in chapter 1; cryptography can help us with
privacy, integrity, and repudiation (or non-repudiation). It can provide
privacy by obscuring the contents of the message (in theory, to everyone but
the holders of some secret key). Integrity is provided through digital
signatures, which are an more secure form of hashing. Finally, there are some
cryptographic protocols that provide non-depudiation, especially public key
cryptography with digital signatures. Others provide such features as
perfect forward secrecy, a technique for providing plausible deniability in
conversations. We&#8217;ll get back to the topic of repudiability in the next chapter,
&#8220;Trust and Usability,&#8221; but for now just know that the cryptosystem you choose
may provide one of these.</p>

<p>It&#8217;ll be useful to get some terminology out of the way.</p>

<ul>
<li><strong>Cryptography</strong> is the study and practice of providing these security
principles for messages.</li>
<li>A <strong>cipher</strong> is a cryptographic algorithm.</li>
</ul>


<p>So what exactly is cryptography then? They are, in essence, a set of
transformations that operate on some arbitrary data as input. We start with this
data. In its original form it is called <strong>plaintext</strong>, denoted as <em>P</em>.
<strong>Encryption</strong> (or alternatively, <strong>enciphering</strong>) is the transformation <em>E</em>
that takes <em>P</em> as input and outputs a transformed message called the
<strong>ciphertext</strong> <em>C</em>. This ciphertext is, in theory, private except to the
appropriate people (we&#8217;ll talk about this more in a little bit). <strong>Decryption</strong>
(alternatively <strong>deciphering</strong>) is the transformation <em>D</em> that takes the ciphertext
<em>C</em> as input and transforms it back into the original plaintext. We can denote
these transformations as:</p>

<p>Liquid error: undefined method `join&#8217; for &#8220;\nC = E(P)\nP = D(C)\n&#8221;:String</p>

<p>You&#8217;ll notice that we can just subsitute like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>D(E(P)) = P</span></code></pre></td></tr></table></div></figure>


<p>A <strong>sender</strong> will generally encrpyt a message to be decrypted by the
<strong>receiver</strong>. A sender can also be a receiver in the case of duplex
encrypted communications. Often times, discussions of cryptography refer to
Alice, Bob, Charlie, Dave and Eve (although Alice, Bob, and Eve are the most
common). Alice and Bob are two entities communicating with each other. I want
to be careful to use the term entity: although Alice and Bob are human
names, they could easily be two computers talking to each other (and often are).
Eve is the eavesdropper, the attacker or adversary in our examples.</p>

<p>An obvious question might be - how does encryption ensure the ciphertext is
actually private? There are two approachs to this: security by restricted
algorithms and security by keys. Don&#8217;t ever use restricted algorithms. This
is a cryptosystem where the message&#8217;s privacy is ensured by keeping the
algorithm secret. Inveitably, this will fail, whether because someone who
knows it leaked it or it was reverse engineered. In fact, there is a security
principle called <strong>Kerckhoff&#8217;s rule</strong> that covers this.</p>

<!-- TODO: look it up for reals -->


<p><strong><em>Kerckhoff&#8217;s Principle</em></strong>:<br />
<em>A cryptosystem that relies on the secrecy of the algorithm is doomed to fail.</em></p>

<h2>Keys</h2>

<p>The other option is security through the use of keys. A key is some set of
information that is provided during encryption and decryption that is known
only by the appropriate people. For example, in the case of RSA the key consists
of extremely large prime numbers, while AES uses 16, 24, or 32 bytes of binary
data. The range of possible values for the key is called the <strong>keyspace</strong>. We
can classify cryptosystems based on the type of key they use:</p>

<ul>
<li><p><strong>Symmetric</strong> ciphers are also known as <strong>secret key</strong> ciphers. The key is
known to both the sender and receiver. If Alice and Bob want to send such a
message to each other, they have to agree on the secret ahead of time.</p></li>
<li><p><strong>Asymmetric</strong> ciphers are also known as <strong>public-key</strong> ciphers. Let&#8217;s say
that Alice is our receiver. She will have a <strong>secret key</strong> (or <strong>private key</strong>)
that only she knows. She uses this private key to decrypt messages. She also
has a <strong>public key</strong> (hence the name <em>public-key cryptography</em>) that is used
for encryption. This public key is derived through fancy math from the private
key, so the two are related but the important thing is that the private key
can&#8217;t (or, as many things in security go, <em>shouldn&#8217;t</em>) be determined from the
public key. If Bob wants to send a message securely to Alice, he just gets her
public key and encrypts to that. While key-wise, public-key cryptography is much
easier than symmetric cryptography, it is far less performant.</p></li>
<li><p>There are also <strong>hybrid</strong> systems that use public-key cryptography to agree
on a <strong>session</strong> key - a symmetric key that is valid only for the current
session. This combines public key cryptography&#8217;s ease of distributing keys with
the performance of symmetric keys.</p></li>
</ul>


<h2>The Key Distribution Problem</h2>

<p>Looking at our different types of ciphers, another obvious question pops up:
how do we share keys? Symmetric cryptography is very difficult in general to
securely share keys: anyone who knows the key can decrypt the messages (or
encrypt new ones). If Alice and Bob shared the key in some way that isn&#8217;t
secure, it is trivial for Eve to get the key. For example, let&#8217;s think about how
Alice and Bob can email each other securely. Let&#8217;s say that Alice is a doctor,
and Bob is her patient. Eve wants to find out about Bob&#8217;s health problems ahead
of time because she is his insurance agent, and she can adjust rates if she
knows the state of Bob&#8217;s health. Bob can&#8217;t email Alice the secret, because Eve
can listen in. Eve could eavesdrop on a phone conversation or face-to-face meeting
in a public place. Bob could write down the key, put it in a sealed envelope,
and hand that to Alice. They have now securely exchanged keys through some means
other than how they will be communicating normally. This is called <strong>side
channel</strong> communications. This can be quite difficult, especially in very hostile
environments or when the communicators are geographically distant.</p>

<p>There is another challenge here. When Alice only had Bob as a patient, she only
had to keep track of one secret. Having only one patient isn&#8217;t very good for
business, however, and Alice has medical school bills to pay off. She can&#8217;t reuse
that key to correspond with Charlie and Dave, because patients should not be
to read each other&#8217;s messages with the doctor - suppose Charlie works with Eve,
and she cuts him a discount if he can read Bob&#8217;s messages. This isn&#8217;t so bad -
Alice just needs <em>n</em> keys for <em>n</em> patients. She now has the following keys:</p>

<p>Liquid error: undefined method `join&#8217; for &#8220;\nAlice <-> Bob\nAlice <-> Charlie\nAlice <-> Dave\n&#8221;:String</p>

<p>The bigger challenge is when everyone needs to be able to talk among each other.
Now, the keys required look like this:</p>

<p>Liquid error: undefined method `join&#8217; for #&lt;String:0x007ffd7ab14868></p>

<!-- TODO: look this up for reals -->


<p>We go from requiring <em>n</em> keys to <code>2 * (n - 1)</code> keys. Now, we have far more keys
to get, and getting them is likely a ore daunting task as well. What happens
when Alice, Bob, Charlie, and Dave are all in different countries? They can&#8217;t
the sealed-envelope side-channel: Eve, expecting the key to arrive at some point
could intercept the mail.</p>

  
    <footer>
      <p class="meta">
        
        








  


<time datetime="2012-03-01T22:14:00-07:00" pubdate data-updated="true">Mar 1<span>st</span>, 2012</time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://kisom.github.com/book/chapter2/index.html" data-via="kyleisom" data-counturl="http://kisom.github.com/book/chapter2/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/10/17/syntax-off/">:syntax off</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/06/threadsafe-counters/">Thread-Safe Counters in Go</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/17/lisp-cli/">Building Lisp Command Line Programs Using SBCL</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/16/system-of-output/">A System of Useful Output</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/15/just-ship-it-v-proudifying-code/">'Just Ship It' v. 'Proudifying' Code</a>
      </li>
    
  </ul>
</section>
<!-- 
    from http://mizzy.org/blog/2012/01/13/coderwall-badges-on-the-sidebar/
    tweaked by kisom
-->

<section>
<h1>Coderwall <a href='http://coderwall.com/kisom'><img src='http://api.coderwall.com/kisom/endorse.png' /></a></h1>
  <p>
  <script type="text/javascript">
    function display_coderwall(args) {
        var badges = args["data"]["badges"];
        for ( var i = 0; i < badges.length; i++ ) {
            var alt = badges[i]["name"] + ': ' + badges[i]["description"];
            var img = '<img src="' + badges[i]["badge"] + '"';
            img = img + ' width="48" height="48" title="' + alt + '" />';
            document.write(img);
        }
    }
  </script>
  <script src="http://coderwall.com/kisom.json?callback=display_coderwall"></script>
  </p>
<p style="text-align: right;">
<a href="http://coderwall.com/kisom">Powered by coderwall.com</a>
</p>
</section>


<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/kisom">@kisom</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'kisom',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("kyleisom", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/kyleisom" class="twitter-follow-button" data-show-count="false">Follow @kyleisom</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:kyleisom">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "kyleisom"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>Copyright &copy; 2012 - Kyle Isom -
  <span class="credit">Powered by <a
  href="http://octopress.org">Octopress</a></span> | <a
href="http://feedburner.google.com/fb/a/mailverify?uri=conshacklife&amp">
Subscribe to (cons 'hack *life*) by Email</a></p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4f46fe1ecb25bc2de6000022');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>


</body>
</html>
