
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Autonomous Vehicles - EDOOFUS</title>
  <meta name="author" content="Kyle Isom">

  
  <meta name="description" content="I just finished up the first unit of Udacity&#8217;s
CS373 (Programming a Robotic Car).
It&#8217;s been a lot of fun, and reminds me of why I love &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kisom.github.com/blog/2012/02/26/autonomous-vehicle">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="EDOOFUS" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=IM+Fell+English' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29320669-1']);
  _gaq.push(['_setDomainName', 'kyleisom.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">EDOOFUS</a></h1>
  
    <h2>my commit log as a blog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:kisom.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About Me</a></li>
  <li><a href="/code">Code</a></li>
  <li><a href="/book/">Book</a></li>
  <li><a href="/resume/">Resum√©</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Autonomous Vehicles</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-26T17:33:00-07:00" pubdate data-updated="true">Feb 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I just finished up the first unit of <a href="http://www.udacity.com">Udacity&#8217;s</a>
<a href="">CS373 (Programming a Robotic Car)</a>.
It&#8217;s been a lot of fun, and reminds me of why I love Python so
much. In this post, I&#8217;m just going to go over what the end result of
the first week has been.</p>

<!-- more -->


<p><a href="http://xkcd.com/353/"><img src="http://imgs.xkcd.com/comics/python.png" alt="Obligatory XKCD" /></a></p>

<p>(Obligatory xkcd&#8230;)</p>

<p>This unit was all Monte Carlo localisation, which generates
probability distributions as to where the robot is in the world. This,
of course, is all very simplified but it is still quite a fascinating
learning experience.</p>

<p>The final homework question has us determining a probability
distribution (i.e. a matrix of probabilities guessing where the robot
is in the world) based on sensor readings and movements in a world of
red / green cells. For example, one of the first the worlds we&#8217;re
given in the examples looks like this:</p>

<p><img src="/images/cs373/unit1/simple_world.png" alt="simple world example" /></p>

<p>You can see each cell in the world has a colour, and the robot&#8217;s
worldview consists of a 2D matrix of probabilities.</p>

<p>Given a list of sensor readings, i.e. <code>['green', 'red']</code> and a list
of corresponding motions in the form [y, x] such that <code>[1, 0]</code> is a
movement downwards and <code>[0, 1]</code> is a movement right, the robot should
be able to figure out where in the world it is. All the example code
in the class is done as simple functions operating in the <code>'__main__'</code>
namespace, but I used a Robot class to simulate everything. Testing
was painful, because I had to hand-type in most of the reference
probability distributions. Then,
<a href="https://bitbucket.org/kisom/cs373/changeset/70b3d80194ee">early Sunday morning</a>
(actually late Saturday night), I discovered the
<a href="http://pypi.python.org/pypi/colorama"><code>colorama</code></a> module, which
faciliates pretty terminal outputs (i.e. colors, bolding, etc&#8230;) I
was able to write a method to print out the map (aka the <code>.showmap()</code>
method in the screenshots) that made testing where the robot was a lot
more fun.</p>

<p>The red/green world felt very contrived. I had a pretty good unit
testing framework set up, so I decided to test my code using a road
test: I built a world with three lanes that used black to represent
the asphalt, yellow to indicate lane markers, and white to indicate
the shoulder marker. I simulated having the robot start at the
shoulder, drive forward and then switch to the middle lane. I expected
the robot should believe itself to be somewhere in the middle
lane.</p>

<p>The world looks something like this:</p>

<p><img src="/images/cs373/unit1/road_test_world.png" alt="road test world" /></p>

<p>With that in mind, I wrote the road test:</p>

<p>Liquid error: undefined method `join&#8217; for #&lt;String:0x007ffd7a5fde88></p>

<p>The <code>translate_drive</code> function maps the <code>motions</code> and <code>measurements</code>
into a pretty output form to make it more intuitive as to what&#8217;s being
simulated:</p>

<p>Liquid error: undefined method `join&#8217; for #&lt;String:0x007ffd7a5fd820></p>

<p>Here&#8217;s an example of the road test in action:</p>

<p><img src="/images/cs373/unit1/road_test.png" alt="road test screenshot" /></p>

<p>As expected, the robot thinks it is somewhere in the middle lane.</p>

<p>Next week, we start learning
<a href="https://en.wikipedia.org/wiki/Particle_filter">particle filters</a>
and <a href="https://en.wikipedia.org/wiki/Kalman_filter">kalman filters</a>.</p>

<p>I&#8217;m actively working to develop a physical AGV (autonomous ground
vehicle). The objective is to develop a platform I can use to build
later, more practical robots on; the AGV platform will be focused on
navigation. As part of this task, I&#8217;m also working to translate the
Python code to C++ (suitable for the Arduino, for example).</p>

<p>Stay tuned!</p>

<h3>References:</h3>

<ul>
<li><a href="http://robots.stanford.edu/papers/thrun.robust-mcl.html">Robust Monte Carlo Localization for Mobile Robots</a></li>
<li><a href="https://bitbucket.org/kisom/cs373">Python versions of the repo)</a> (private until the 28th)</li>
<li><a href="https://github.com/kisom/cs373">C++ version</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Kyle Isom</span></span>

      








  


<time datetime="2012-02-26T17:33:00-07:00" pubdate data-updated="true">Feb 26<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/development/'>development</a>, <a class='category' href='/blog/categories/python/'>python</a>, <a class='category' href='/blog/categories/robotics/'>robotics</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://kisom.github.com/blog/2012/02/26/autonomous-vehicle/" data-via="kyleisom" data-counturl="http://kisom.github.com/blog/2012/02/26/autonomous-vehicle/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/02/22/carefree-git-and-hg/" title="Previous Post: carefree git and hg">&laquo; carefree git and hg</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/03/15/so-you-want-to-unit-test-in-xcode/" title="next Post: So, You Want To Unit Test in Xcode">So, You Want To Unit Test in Xcode &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/10/17/syntax-off/">:syntax off</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/06/threadsafe-counters/">Thread-Safe Counters in Go</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/17/lisp-cli/">Building Lisp Command Line Programs Using SBCL</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/16/system-of-output/">A System of Useful Output</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/15/just-ship-it-v-proudifying-code/">'Just Ship It' v. 'Proudifying' Code</a>
      </li>
    
  </ul>
</section>
<!-- 
    from http://mizzy.org/blog/2012/01/13/coderwall-badges-on-the-sidebar/
    tweaked by kisom
-->

<section>
<h1>Coderwall <a href='http://coderwall.com/kisom'><img src='http://api.coderwall.com/kisom/endorse.png' /></a></h1>
  <p>
  <script type="text/javascript">
    function display_coderwall(args) {
        var badges = args["data"]["badges"];
        for ( var i = 0; i < badges.length; i++ ) {
            var alt = badges[i]["name"] + ': ' + badges[i]["description"];
            var img = '<img src="' + badges[i]["badge"] + '"';
            img = img + ' width="48" height="48" title="' + alt + '" />';
            document.write(img);
        }
    }
  </script>
  <script src="http://coderwall.com/kisom.json?callback=display_coderwall"></script>
  </p>
<p style="text-align: right;">
<a href="http://coderwall.com/kisom">Powered by coderwall.com</a>
</p>
</section>


<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/kisom">@kisom</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'kisom',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("kyleisom", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/kyleisom" class="twitter-follow-button" data-show-count="false">Follow @kyleisom</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:kyleisom">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "kyleisom"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>Copyright &copy; 2012 - Kyle Isom -
  <span class="credit">Powered by <a
  href="http://octopress.org">Octopress</a></span> | <a
href="http://feedburner.google.com/fb/a/mailverify?uri=conshacklife&amp">
Subscribe to (cons 'hack *life*) by Email</a></p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4f46fe1ecb25bc2de6000022');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>


</body>
</html>
